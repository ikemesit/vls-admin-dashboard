<div class="w-[600px] mx-auto p-8 flex flex-col justify-start">
  @if(!showSuccessMessage) {
  <h4 class="font-bold mb-8 text-2xl">Reset Your Password</h4>

  <div class="w-full">
    <form
      [formGroup]="passwordResetForm"
      (ngSubmit)="onSubmit()"
      class="flex flex-col gap-6"
    >
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Email</mat-label>
        <input matInput type="text" formControlName="email" required />
        <mat-error *ngIf="passwordResetForm.get('email')?.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>New Password</mat-label>
        <input
          matInput
          type="password"
          formControlName="newPassword"
          required
        />
        <mat-error
          *ngIf="passwordResetForm.get('newPassword')?.hasError('required')"
        >
          New password is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Confirm Password</mat-label>
        <input
          matInput
          type="password"
          formControlName="confirmPassword"
          required
        />

        <mat-error
          *ngIf="passwordResetForm.get('confirmPassword')?.hasError('required')"
          >Confirm password is <strong>required</strong></mat-error
        >
      </mat-form-field>

      <mat-error
        *ngIf="
          passwordResetForm.hasError('passwordMismatch') &&
          !passwordResetForm.get('confirmPassword')?.hasError('required')
        "
        >Passwords do not <strong>match</strong></mat-error
      >

      <button
        class="mt-6"
        mat-flat-button
        color="accent"
        type="submit"
        [disabled]="passwordResetForm.invalid"
      >
        Reset Password
      </button>
    </form>
  </div>
  } @if(showSuccessMessage) {
  <div class="w-full flex flex-col justify-center items-center p-8">
    <ng-lottie [options]="animationOptions" width="200px" height="200px" />

    <div class="mt-8">
      <h4 class="font-bold text-xl">Password Reset Successful</h4>

      <p class="mb-4">
        Your password has been successfully updated! You can now log in with
        your new credentials.
      </p>

      <p class="mb-4">
        If you didnâ€™t request this change or suspect any unauthorized activity
        on your account, please contact our support team immediately.
      </p>

      <p>Thank you for keeping your account secure!</p>
    </div>
  </div>
  }
</div>
